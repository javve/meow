<!DOCTYPE html>
<head>
  <title>Spirit</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico" />
  <link rel="icon" sizes="40x40" href="favicon.png"  type="image/png">


  <style>
    @font-face {
      font-family: 'monogram';
      src: url('monogram-extended.ttf');     
      font-weight: normal;
      font-style: normal;
    }
    html {
      height: 100%;
    }
    body {
      font-family: monogram;
      background-color: #87bda4;
      margin:0;
      padding:0;
      font-smooth: never;
      -webkit-font-smoothing: none;
      font-synthesis: none;
      height:100%;
    }
    .container{
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      flex-direction: column;
    }
    .cat {
      width:300px;
      max-width: 80%;
      position: relative;
    }
    .cat:before {
      display:block;
      content: ' ';
      padding-top:136%;
    }
    .cat-cat {
      position: absolute;
      top:0;
      left:0;
      height:100%;
      width:100%;
      background:url(katt-Sheet.png) no-repeat 0 0;
      background-size: 400% auto;
      image-rendering: pixelated;
      animation-name: idle;
      animation-duration: 5s;
      animation-iteration-count: infinite;
      animation-timing-function: steps(1); 
      z-index: 10;
    }
    @keyframes idle {
      0 {
        background-position: 0 0 ;
        background-color:#44f;
      }
      95% {
        background-position: 33.333% 0;
      }
      97% {
        background-position: 66.6666% 0 ;
      }
      100% {
        background-position: 100% 0 ;
      }
    }
    .cat-tail {
      position: absolute;
      top:0;
      left:0;
      height:100%;
      width:100%;
      background:url(katt-Sheet.png) no-repeat 0 0;
      background-size: 400% auto;
      background-position: 0 104%;
      image-rendering: pixelated;
      z-index: 5;
    }
    .cat-tail--animate {
      animation-name: tail;
      animation-duration: 1s;
      animation-iteration-count: infinite;
      animation-timing-function: steps(1); 

    }

    @keyframes tail {
      0 {
        background-position: 0 104%;
        background-color:#44f;
      }
      50% {
        background-position: 33.333% 104%;
      }
      100% {
        background-position: 66.6666% 104%;
      }
    }
    .grattis {
      position: absolute;
      width: 300px;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      font-size: 20px;
      border: solid 3px #000;
      line-height: 1.1;
      transition: all .3s ease-in-out;
      z-index: 30;
    }
    .hide {
      pointer-events: none;
      opacity: 0;
    }
    .btn {
      display: inline-block;
      margin:0 auto;
      background-color:#868ae1;
      color:#fff;
      padding:5px 15px;
      cursor: pointer;
      transition: all .2s ease-in-out;
    }
    .btn:hover {
      background-color: #696dbc;
    }
    .btn-info {
      display: inline-block;
      margin:0 auto;
      background-color:rgba(0,0,0,.1);
      color:rgba(255,255,255,.6);
      padding:5px 15px;
      cursor: pointer;
      transition: all .2s ease-in-out;
      text-transform: uppercase;
    }
    .btn-info:hover {
      background-color: rgba(0,0,0,.2);
    }
    .cat-head {
      position: absolute;
      top: 22%;
      left: 27%;
      width: 43%;
      padding-top: 20%;
      z-index: 20;
    }
    .cat-neck {
      position: absolute;
      top: 43%;
      left: 27%;
      width: 43%;
      padding-top: 20%;
      z-index: 20;
    }
    .cat-message {
      transition: all .2s ease-in-out;
      position: absolute;
      background-color: #fff;
      color:#000;
      font-size: 20px;
      padding: 10px 15px;
      border:solid 3px #000;
      pointer-events: none;
      opacity: 0;
      transform: scale(.8);
      z-index: 20;
    }
    .cat-message--show {
      opacity: 1;
      transform: scale(1);
    }
    .cat-message--1 {
      left: 10%;
      top:10%;
    }
    .cat-message--2 {
      right: 5%;
      top:35%;
    }
  </style>
</head>
<body>
  <div class="grattis" style="display:none;">
    Hurra för dig elli! <br>
    Eftersom jag vet att du inte kan ha en katt hemma så skulle jag härmed vilja överlämna Spirit.
    Han är gillar att bli klappad på huvudet, kliad under hakan, är rumsen och dessutom helt digital.
    <br>
    <br>
    Ps. just nu kan han inte så många tricks, men min känsla är att han kommer lära sig mer med tiden.<br><br>
    Bästa (hehe)<br>
    Jonny
    <br><br>
    <div style="text-align: center;">
    <span class="btn">Säg hej</span>
    </div>
  </div>
  <div class="container">
    <div class="cat">
      <div class="cat-message cat-message--1">Meow meow!</div>
      <div class="cat-message cat-message--2">Prrrr!</div>
      <div class="cat-head"></div>
      <div class="cat-neck"></div>
      <div class="cat-cat"></div>
      <div class="cat-tail"></div>
    </div>
    <span class="btn-info">Info</span>
  </div>

<script>
  const message = document.querySelector('.grattis')
  const catMessage1 = document.querySelector('.cat-message--1')
  const catMessage2 = document.querySelector('.cat-message--2')
  const catTail = document.querySelector('.cat-tail')
  const storage = window.localStorage
  let hideMessage = storage.getItem('hideMessage')
  if (hideMessage !== 'true') {
    message.style.display = 'block';
  } else {
    message.classList.add('hide')
    setTimeout(function() {
      message.style.display = 'block';
    },500)
  }
  document.querySelector('.btn').addEventListener('click', function() {
    message.classList.add('hide');
    storage.setItem('hideMessage', 'true')
  })

  document.querySelector('.btn-info').addEventListener('click', function() {
    message.classList.remove('hide');
  })
  
  const petHead = function() {
    catMessage1.classList.add('cat-message--show')
    catTail.classList.add('cat-tail--animate')
    setTimeout(function() {
      catMessage1.classList.remove('cat-message--show')
      catTail.classList.remove('cat-tail--animate')
    }, 2500);
  }
  document.querySelector('.cat-head').addEventListener('touchstart', petHead, false);        
  document.querySelector('.cat-head').addEventListener('touchmove', petHead, false);
  document.querySelector('.cat-head').addEventListener('click', petHead)

  const petNeck = function () {
    catMessage2.classList.add('cat-message--show')
    catTail.classList.add('cat-tail--animate')
    setTimeout(function() {
      catMessage2.classList.remove('cat-message--show')
      catTail.classList.remove('cat-tail--animate')
    }, 2500);
  }
  document.querySelector('.cat-head').addEventListener('touchstart', petNeck, false);        
  document.querySelector('.cat-head').addEventListener('touchmove', petNeck, false);
  document.querySelector('.cat-neck').addEventListener('click', petNeck)

</script>
</body>